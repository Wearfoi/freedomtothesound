<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>freedomtothesound</title>
    <link rel="icon" type="image/png" href="favicon.png">
    
    <script>
        /* URL Cleaner */
        if (window.location.pathname.endsWith('/index.html')) {
            const newPath = window.location.pathname.replace(/\/index\.html$/, '/');
            window.history.replaceState(null, '', newPath + window.location.search);
        }

        /* Countdown Script */
        function updateCountdown() {
            const targetDate = new Date("2026-01-22T00:00:00-05:00").getTime();
            const now = new Date().getTime();
            const distance = targetDate - now;
            const element = document.getElementById("countdown");
            if (distance < 0) {
                element.innerHTML = "00:00:00:00";
                return;
            }
            const days = Math.floor(distance / (1000 * 60 * 60 * 24));
            const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
            const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
            const seconds = Math.floor((distance % (1000 * 60)) / 1000);
            element.innerHTML = String(days).padStart(2, '0') + ":" + String(hours).padStart(2, '0') + ":" + String(minutes).padStart(2, '0') + ":" + String(seconds).padStart(2, '0');
        }

        /* DVD Bounce Script with Spinning - Slower Version */
        let x, y, xSpeed = 0.3, ySpeed = 0.3, rotation = 0, rotationSpeed = 0.2;
        
        function initBounce() {
            const logo = document.getElementById('bouncing-logo');
            if (!logo) return;
            
            // Wait for logo to load to get accurate dimensions
            logo.onload = function() {
                x = Math.random() * (window.innerWidth - logo.offsetWidth);
                y = Math.random() * (window.innerHeight - logo.offsetHeight);
                startBounce();
            };
            
            // In case the image is already loaded
            if (logo.complete) {
                x = Math.random() * (window.innerWidth - logo.offsetWidth);
                y = Math.random() * (window.innerHeight - logo.offsetHeight);
                startBounce();
            }
        }
        
        function bounceLogo() {
            const logo = document.getElementById('bouncing-logo');
            if (!logo) return;
            
            const boardWidth = window.innerWidth;
            const boardHeight = window.innerHeight;
            const logoWidth = logo.offsetWidth || 150;
            const logoHeight = logo.offsetHeight || 150;

            x += xSpeed;
            y += ySpeed;
            rotation += rotationSpeed;

            // Collision Detection
            if (x + logoWidth >= boardWidth || x <= 0) {
                xSpeed *= -1;
                // Adjust position to stay within bounds
                x = x + logoWidth >= boardWidth ? boardWidth - logoWidth : Math.max(0, x);
            }
            if (y + logoHeight >= boardHeight || y <= 0) {
                ySpeed *= -1;
                // Adjust position to stay within bounds
                y = y + logoHeight >= boardHeight ? boardHeight - logoHeight : Math.max(0, y);
            }

            // Apply both translation and rotation
            logo.style.transform = `translate(${x}px, ${y}px) rotate(${rotation}deg)`;
        }

        // Start the animation loop
        function startBounce() {
            function animate() {
                bounceLogo();
                requestAnimationFrame(animate);
            }
            animate();
        }

        // Update countdown every second
        setInterval(updateCountdown, 1000);

        // Use 'DOMContentLoaded' to ensure the element exists before moving it
        document.addEventListener('DOMContentLoaded', () => {
            updateCountdown();
            initBounce();
            
            // Handle window resize
            window.addEventListener('resize', function() {
                const logo = document.getElementById('bouncing-logo');
                if (logo) {
                    // Keep logo within bounds if window is resized
                    x = Math.min(x, window.innerWidth - (logo.offsetWidth || 150));
                    y = Math.min(y, window.innerHeight - (logo.offsetHeight || 150));
                }
            });
        });
    </script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            background-color: #f8f8f8;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            align-items: center;
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            color: #1a1a1a;
            text-align: center;
            overflow: hidden; /* Prevents scrollbars */
        }

        #bouncing-logo {
            position: fixed;
            top: 0;
            left: 0;
            width: 150px;
            height: auto;
            z-index: -1; /* Background */
            pointer-events: none;
            will-change: transform;
            transform: translate(0, 0) rotate(0deg); /* Initial transform */
        }
        
        .text-style {
            font-size: 3rem;
            font-weight: 600;
            letter-spacing: 0.05em;
            color: #1a1a1a;
            width: 100%;
            z-index: 1;
        }

        #countdown { padding-top: 50px; font-variant-numeric: tabular-nums; }
        .footer-text { padding-bottom: 50px; }
        
        .container {
            width: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px 0;
            flex-grow: 1;
            z-index: 1;
        }
        
        .bandcamp-wrapper {
            width: 100%;
            max-width: 474px;
            padding: 0 20px;
        }
        
        .bandcamp-embed {
            width: 100%;
            height: 700px;
            border: 0;
            border-radius: 0; /* Changed from 12px to 0 for square corners */
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
        }
        
        @media (max-width: 600px) {
            .text-style { font-size: 1.5rem; }
            #countdown { padding-top: 30px; }
            .footer-text { padding-bottom: 30px; }
            .bandcamp-embed { height: 600px; }
            #bouncing-logo { width: 80px; }
        }
    </style>
</head>
<body>

    <img src="dvd.png" id="bouncing-logo" alt="Logo">

    <div id="countdown" class="text-style">Calculating...</div>

    <div class="container">
        <div class="bandcamp-wrapper">
            <iframe 
                class="bandcamp-embed"
                src="https://bandcamp.com/EmbeddedPlayer/album=2103124777/size=large/bgcol=ffffff/linkcol=0687f5/transparent=true/tracklist=true/tracks=790976255/esig=ead858226d81a6019825b75769171b20/" 
                seamless>
                <a href="https://wearfoi.bandcamp.com/album/ralkalico">RalKalico by Wearfoi</a>
            </iframe>
        </div>
    </div>

    <div class="footer-text text-style">
        January 22nd
    </div>

</body>
</html>